{% extends "page.html" %}

{% load staticfiles tethys_gizmos %}

{% block styles %}
  {{ block.super }}
  <link href="{% static 'tethys_apps/css/app_base.css' %}" rel="stylesheet" />
{% endblock %}

{% block header %}{% endblock %}

{% block site_wrapper_override %}
  {% block app_content_wrapper_override %}
    <div id="app-content-wrapper" class="show-nav">
      {% block app_header_override %}
        <div id="app-header" class="clearfix">
          <div class="tethys-app-header" style="background: {{ tethys_app.color|default:'#1b95dc' }};">
            {% block app-navigation-toggle-override %}
              <a href="javascript:void(0);" class="toggle-nav">
                <div></div>
                <div></div>
                <div></div>
              </a>
            {% endblock %}
            {% block app_icon_override %}
              <div class="icon-wrapper">
                {% block app_icon %}<img src="{% static tethys_app.icon %}">{% endblock %}
              </div>
            {% endblock %}
            {% block app_title_override %}
              <div class="app-title-wrapper">
                <span class="app-title">{% block app_title %}{{ tethys_app.name }}{% endblock %}</span>
              </div>
            {% endblock %}
            {% block exit_button_override %}
              <div class="exit-button">
                <a href="javascript:void(0);" onclick="TETHYS_APP_BASE.exit_app('{% url 'app_library' %}');">Exit</a>
              </div>
            {% endblock %}
          </div>
        </div>
      {% endblock %}
      {% block app_content_override %}
        <div id="app-content">
          {# Off canvas navigation menu #}
          {% block app_navigation_override %}
            <div id="app-navigation">
              {% block app_navigation %}
                <ul class="nav nav-pills nav-stacked">
                  {% block app_navigation_items %}{% endblock %}
                </ul>
              {% endblock %}
            </div>
          {% endblock %}

          {# App content starts here #}
          <div id="inner-app-content">
            {% block app_content %}{% endblock %}

            {# App actions are fixed to the bottom #}
            {% block app_actions_override %}
              <div id="app-actions">
                {% block app_actions %}{% endblock %}
              </div>
            {% endblock %}
          </div>
        </div>
      {% endblock %}
    </div>
  {% endblock %}
{% endblock %}


{% block footer %}{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'tethys_apps/vendor/cookies.js' %}" type="text/javascript"></script>
  <script src="{% static 'tethys_apps/js/app_base.js' %}" type="text/javascript"></script>
  {% gizmo_dependencies %}
{% endblock %}